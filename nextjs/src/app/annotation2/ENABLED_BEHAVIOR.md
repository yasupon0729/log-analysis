# enabled フラグの挙動（ルール / グループ / 条件）

対象: `src/app/annotation2/input/rules.json` の `enabled` が付く3階層。評価ロジックは `evaluateFilter`（`_lib/filter-utils.ts`）で共通し、「`false` は判定をスキップ＝常に通過(true)扱い」になります。

## 1. ルール (`rules[i].enabled`)
- 役割: パイプライン実行時にルールを走らせるかを決める。
- UI: 右ペイン「Execution Pipeline」各行のチェックボックスでトグル。
- `false` になるケース: このチェックを外したとき。保存すると `rules.json` に書き出され、ルール全体がスキップされる。

## 2. グループ/ルート (`filter.enabled`、例: root の 58 行目)
- 役割: グループ配下の条件評価を有効化するかを決める。`false` だとグループ全体を通過扱いにし、子条件も無視される。
- UI: ルートの `enabled` は UI でトグル不可。編集開始時にコンポーネント側で常に `true` に上書きされる（通常運用では `false` にならない）。
- `false` にしたい場合: `rules.json` を手動編集するしかない（ルール全体が実質無効化される）。

## 3. 条件 (`condition.enabled`、例: 55 行目)
- 役割: 個別の min/max 判定を有効化するかを決める。
- UI: Rule Editor 内「Filters (Keep/Remove)」で各条件行のチェックボックスをトグル。
- `false` になるケース: 上記チェックを外したとき。保存すると該当条件のみ無視され、他の条件やグループの論理で判定される。

## 具体例（円形度 0.2〜0.8 を 999 に振り分けるルール）
- ルール= true / ルート= true / 条件= true → 円形度が範囲外の領域だけ 999 へ変更。
- ルール= true / ルート= true / 条件= false → 条件が無視され、分類は変わらない。
- ルール= false（他は任意）→ ルール自体が走らず、分類は変わらない。
- ルート= false（手動編集時のみ）→ グループ全体が通過扱い、分類は変わらない。(今後の拡張用)
